{% load i18n %}

<form method="post"
    action=""
    hx-post="{% url 'forum_polls_extension:topic_poll_vote' poll.topic.forum.slug poll.topic.forum.pk poll.pk %}"
    id="poll-form{{poll.pk}}"
    hx-target="#pollarea{{poll.pk}}"
    hx-swap="outerHTML"
    class="form"
    novalidate>
    {% csrf_token %}

    {% for option in poll.options.all %}

        <div class="row">
            <div class="col-md-12">
                <div class="well well-sm">
                    {% if poll.max_options == 1 %}
                        <div class="radio">
                            <label>
                                <input type="radio" name="options" value="{{ option.id }}">
                                {{ option.text }}
                            </label>
                        </div>
                    {% else %}
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" name="options" value="{{ option.id }}">
                                {{ option.text }}
                            </label>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    {% endfor %}

    <div class="form-actions">
        <input type="submit" class="btn btn-sm btn-info matomo-event" value="{% trans "Submit" %}" data-matomo-category="engagement" data-matomo-action="vote"/>
        <a href="{% if change_vote_action %}.{% else %}?view_results=true{% endif %}" class="btn btn-link">{% trans "View results" %}</a>
    </div>
</form>
